# statuses for content's form
statuses = <%= Content::STATUSES.to_json %>

$(document).on "change", "#content_platform", (e) ->
  options = statuses[e.target.value]
  for node in $("#content_status option")
    $node = $(node)
    if $node.text() in options
      $node.removeAttr "disabled"
    else
      $node.attr "disabled", "disabled"

trigger_change = ->
  $("#content_platform").trigger "change"

$(document).ready trigger_change
$(document).on "page:load", trigger_change
